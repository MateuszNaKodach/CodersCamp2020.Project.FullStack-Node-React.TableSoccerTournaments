(this["webpackJsonptable-soccer-tournaments-frontend"]=this["webpackJsonptable-soccer-tournaments-frontend"]||[]).push([[0],{274:function(e,t){},275:function(e,t){},276:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(19),r=n.n(a),c=n(31),i=n(20),o=n(29),s=n.n(o),l={baseUrl:n(61).a},u=function(e){var t,n,a=Object(i.a)(Object(i.a)({},l),{},{config:e,baseUrl:null!==(t=null!==(n="http://localhost:5000/rest-api")?n:null===e||void 0===e?void 0:e.baseUrl)&&void 0!==t?t:l.baseUrl});return{getPlayersProfiles:function(){return s.a.get("".concat(a.baseUrl,"/players-profiles")).then((function(e){return e.data}))},getPlayerProfile:function(e){return s.a.get("".concat(a.baseUrl,"/players-profiles/").concat(e)).then((function(e){return e.data}))},postPlayersProfile:function(e){return Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.post("".concat(a.baseUrl,"/players-profiles"),e);case 2:case"end":return t.stop()}}),t)})))()}}}},470:function(e,t,n){},471:function(e,t,n){"use strict";n.r(t);var a,r,c=n(0),i=n.n(c),o=n(13),s=n.n(o),l=n(503),u=n(518),d=n(500),j=n(134),b=n(37),m=b.a.div(a||(a=Object(j.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"]))),h=n(48),p=n(26),O=n(272),x=n(88),f=Object(O.a)({palette:{primary:{main:x.a[800],contrastText:"#E3E152"},secondary:{main:"#FFD100",contrastText:"#000000"}}}),g=n(197),y=n(80),v=n(273),N=Object(v.a)((function(e){return{footer:{boxSizing:"border-box",position:"absolute",bottom:"0",width:"100%",padding:"10px 0",color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main}}})),I=n(2),k=function(e){var t=e.text,n=void 0===t?"Copyright \xa9 TourDeFoos 2021":t,a=N();return Object(I.jsx)(g.a,{className:a.footer,"data-testid":"footer",children:Object(I.jsx)(y.a,{variant:"body2",align:"center",children:n})})},w=n(498),P=n(499),T=n(473),C=n(20),S=function(e){return Object(I.jsx)("div",{style:{minHeight:e.height}})},z=function(e){return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(m,{children:[Object(I.jsx)(y.a,{component:"h5",variant:"h5",children:e.title}),Object(I.jsx)(S,{height:"2rem"})]})})},E=Object(b.a)((function(e){var t=Object.assign({},e);return Object(I.jsx)(z,Object(C.a)({},t))}))(r||(r=Object(j.a)(['\n     marginBottom: "20px",\n']))),U="300px",A=function(e){return Object(I.jsx)(F,{children:Object(I.jsx)(w.a,{children:Object(I.jsxs)(m,{children:[Object(I.jsx)(E,{title:e.title}),R(e.menuButtonsList)]})})})},F=Object(b.a)(P.a)({display:"block",boxSizing:"border-box",minWidth:U,paddingTop:"40px",paddingBottom:"40px"}),R=function(e){return Object(I.jsx)(T.a,{children:Object(I.jsx)(m,{children:e.map((function(e,t){return Object(I.jsxs)("li",{children:[Object(I.jsx)(_,{textName:e.textName,onClick:e.onClick,onLink:e.onLink}),Object(I.jsx)(S,{height:"1rem"})]},t)}))})})};function _(e){var t=e.textName,n=e.onClick,a=e.onLink,r=D();return Object(I.jsx)(I.Fragment,{children:a?Object(I.jsx)(h.b,{to:a,children:Object(I.jsx)(d.a,{variant:"contained",color:"primary",onClick:n,className:r.root,children:t})}):Object(I.jsx)(d.a,{variant:"contained",color:"primary",onClick:n,className:r.root,children:t})})}var D=Object(v.a)({root:{width:"250px"}}),L="/tournaments-selection",B="/tournament-registration",W="/players-profiles",M="/tournament/:tournamentId/matches",H=[{textName:"Turniej",onClick:function(){console.log("Menu button was clicked!")},onLink:L},{textName:"Zawodnicy",onClick:function(){console.log("Menu button was clicked!")},onLink:W}],Z=function(){return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(A,{title:"TourDeFoos",menuButtonsList:H})})},q=n(501),G=n(502),V=Object(v.a)((function(e){return{header:{boxSizing:"border-box",backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText,width:"100%",height:"50px",display:"flex",justifyContent:"center"},logo:{maxHeight:"50px"},title:{letterSpacing:"0.15px",padding:"5px"}}})),Y="/img",J=function(e){var t=e.text,n=void 0===t?"Wroc\u0142awski Klub Pi\u0142ki Sto\u0142owej":t,a=V();return Object(I.jsx)(q.a,{position:"static",children:Object(I.jsxs)(G.a,{className:a.header,"data-testid":"header",children:[Object(I.jsx)(g.a,{flexGrow:1,children:Object(I.jsx)("img",{src:"".concat(Y,"/logo.png"),alt:"logo",className:a.logo})}),Object(I.jsx)(g.a,{flexGrow:2,children:Object(I.jsx)(m,{children:Object(I.jsx)(y.a,{variant:"h6",className:a.title,children:n})})}),Object(I.jsx)(g.a,{flexGrow:1})]})})},K=n(19),X=n.n(K),Q=n(31),$=n(15),ee=n(509),te=n(198),ne=n(482),ae=n(487),re=n(530),ce=n(97),ie=n(29),oe=n.n(ie),se={baseUrl:"http://localhost:5000/rest-api"},le=function(e){var t,n,a=Object(C.a)(Object(C.a)({},se),{},{config:e,baseUrl:null!==(t=null!==(n="http://localhost:5000/rest-api")?n:null===e||void 0===e?void 0:e.baseUrl)&&void 0!==t?t:se.baseUrl});return{getRegisteredPlayersIds:function(e){return oe.a.get("".concat(a.baseUrl,"/tournament-registrations/").concat(e)).then((function(e){return e.data}))},postPlayersForTournament:function(e){return Object(Q.a)(X.a.mark((function t(){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe.a.post("".concat(a.baseUrl,"/tournament-registrations/").concat(e.tournamentId,"/players"),e);case 2:case"end":return t.stop()}}),t)})))()},closeTournamentRegistration:function(e){return Object(Q.a)(X.a.mark((function t(){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe.a.post("".concat(a.baseUrl,"/tournament-registrations/").concat(e,"/close"),null,{params:{tournamentId:e}});case 2:case"end":return t.stop()}}),t)})))()},getAllTournamentsRegistrations:function(){return oe.a.get("".concat(a.baseUrl,"/tournament-registrations/")).then((function(e){return e.data}))}}},ue=(0,n(17).makeStyles)((function(e){return{colors:{color:"#000000 !important",backgroundColor:"#FFB400 !important"}}})),de=n(525),je=n(532),be=function(e){var t=ue();return e.isError?Object(I.jsx)(de.a,{open:e.open,autoHideDuration:3e3,onClose:e.handleClose,anchorOrigin:{vertical:"top",horizontal:"center"},children:Object(I.jsx)(je.a,{onClose:e.handleClose,severity:"error",children:e.text})}):Object(I.jsx)(de.a,{open:e.open,autoHideDuration:3e3,onClose:e.handleClose,children:Object(I.jsx)(je.a,{onClose:e.handleClose,className:t.colors,icon:!1,children:e.text})})},me=Object(v.a)((function(e){return{root:{width:U}}})),he=n(475),pe=n(314),Oe=n.n(pe),xe=n(315),fe=n.n(xe),ge=n(55),ye={openCreatePlayerProfileForm:!1,toggleOpenFormState:function(){},onPlayerProfileCreated:function(e,t){},registerPlayer:function(){var e=Object(Q.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ve=Object(c.createContext)(ye),Ne=n(61),Ie={baseUrl:Ne.a},ke=function(e){var t,n,a=Object(C.a)(Object(C.a)({},Ie),{},{config:e,baseUrl:null!==(t=null!==(n="http://localhost:5000/rest-api")?n:null===e||void 0===e?void 0:e.baseUrl)&&void 0!==t?t:Ie.baseUrl});return{startTournament:function(e){return Object(Q.a)(X.a.mark((function t(){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe.a.post("".concat(a.baseUrl,"/doubles-tournaments/").concat(e,"/start"),null,{params:{tournamentId:e}});case 2:case"end":return t.stop()}}),t)})))()}}},we=function(e){var t=Object(c.useContext)(ve).toggleOpenFormState,n=Object(c.useState)(!1),a=Object($.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(!1),s=Object($.a)(o,2),l=s[0],j=s[1],b=Object(c.useState)(""),m=Object($.a)(b,2),h=m[0],O=m[1];Object(c.useEffect)((function(){return i(e.openDrawer),function(){i(!1)}}),[e.openDrawer]);var x=Object(p.f)();function f(t){e.returnToPrevState(!1),i(t)}var g=function(){var t=Object(Q.a)(X.a.mark((function t(){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,le().closeTournamentRegistration(e.tournamentId);case 3:return t.next=5,ke().startTournament(e.tournamentId);case 5:f(!1),x.goBack(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n=t.t0.response.data.message,O(n),j(!0);case 12:case"end":return t.stop()}var n}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),y=Object(v.a)((function(){return{width:{width:"70%"}}}))();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ge.a,{anchor:"bottom",open:r,onClose:function(){return f(!1)},children:Object(I.jsxs)(u.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(I.jsx)(S,{height:"30px"}),Object(I.jsx)(d.a,{className:y.width,variant:"contained",color:"primary",onClick:function(){t(),f(!1)},children:"Dodaj i zapisz zawodnika"}),Object(I.jsx)(S,{height:"20px"}),Object(I.jsx)(d.a,{className:y.width,variant:"contained",color:"primary",onClick:g,children:"Zako\u0144cz zapisy na turniej"}),Object(I.jsx)(S,{height:"30px"})]})}),Object(I.jsx)(be,{text:h,open:l,handleClose:function(e,t){"clickaway"!==t&&j(!1)},isError:!0})]})},Pe=function(e){var t=Object(c.useState)(!1),n=Object($.a)(t,2),a=n[0],r=n[1],i=Object(p.f)(),o=Object(v.a)((function(){return{padding:{padding:0,paddingTop:"2px"}}}))();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(g.a,{display:"flex",alignItems:"center",width:"100%",children:[Object(I.jsx)(g.a,{children:Object(I.jsx)(he.a,{className:o.padding,onClick:function(){i.goBack()},children:Object(I.jsx)(Oe.a,{})})}),Object(I.jsx)(g.a,{flexGrow:1,textAlign:"center",children:Object(I.jsx)(y.a,{component:"h6",variant:"h6",children:"Zapisy na turniej"})}),Object(I.jsx)(g.a,{children:Object(I.jsx)(he.a,{"data-testid":"hamburgerMenu",className:o.padding,onClick:function(){return r(!0)},children:Object(I.jsx)(fe.a,{})})})]}),Object(I.jsx)(we,{openDrawer:a,returnToPrevState:r,tournamentId:e.tournamentId})]})},Te=n(526),Ce=n(325),Se=n(100),ze=n(22),Ee=n(23),Ue=n(533),Ae=function(){function e(){Object(ze.a)(this,e)}return Object(Ee.a)(e,null,[{key:"generate",value:function(){return Object(Ue.a)()}}]),e}(),Fe=Se.a({name:Se.b().required("To pole jest wymagane."),surname:Se.b().required("To pole jest wymagane."),email:Se.b().email("Niepoprawny adres e-mail.").required("To pole jest wymagane."),phone:Se.b().min(9,"Wprowad\u017a przynajmniej 9 znak\xf3w.").required("To pole jest wymagane.")});var Re,_e=function(e){var t=Object(c.useContext)(ve).onPlayerProfileCreated,n=Object(c.useState)(!1),a=Object($.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(""),s=Object($.a)(o,2),l=s[0],j=s[1],b=Object(Ce.a)({initialValues:{name:"",surname:"",email:"",phone:""},validationSchema:Fe,onSubmit:function(){var n=Object(Q.a)(X.a.mark((function n(a){var r;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=Ae.generate(),n.next=4,Object(ce.UserProfileRestApi)().postPlayersProfile({playerId:r,firstName:a.name,lastName:a.surname,phoneNumber:a.phone,emailAddress:a.email});case 4:return n.next=6,le().postPlayersForTournament({tournamentId:e.tournamentId,playerId:r});case 6:e.onDrawerClose(),t(a.name,a.surname),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),c=n.t0.response.data.message,j(c),i(!0);case 13:case"end":return n.stop()}var c}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()});return Object(I.jsxs)(u.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(I.jsx)(S,{height:"10px"}),Object(I.jsx)(y.a,{component:"h6",variant:"h6",children:"Nowy zawodnik"}),Object(I.jsx)(S,{height:"10px"}),Object(I.jsx)("form",{onSubmit:b.handleSubmit,children:Object(I.jsxs)(u.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(I.jsx)(Te.a,{id:"Imi\u0119",value:b.values.name,label:"Imi\u0119",name:"name",variant:"outlined",onChange:b.handleChange,error:b.touched.name&&Boolean(b.errors.name),helperText:b.touched.name&&b.errors.name}),Object(I.jsx)(S,{height:"10px"}),Object(I.jsx)(Te.a,{id:"Nazwisko",value:b.values.surname,label:"Nazwisko",name:"surname",variant:"outlined",onChange:b.handleChange,error:b.touched.surname&&Boolean(b.errors.surname),helperText:b.touched.surname&&b.errors.surname}),Object(I.jsx)(S,{height:"10px"}),Object(I.jsx)(Te.a,{id:"Adres e-mail",value:b.values.email,label:"Adres e-mail",name:"email",variant:"outlined",onChange:b.handleChange,error:b.touched.email&&Boolean(b.errors.email),helperText:b.touched.email&&b.errors.email}),Object(I.jsx)(S,{height:"10px"}),Object(I.jsx)(Te.a,{id:"Numer telefonu",value:b.values.phone,label:"Numer telefonu",name:"phone",variant:"outlined",onChange:b.handleChange,error:b.touched.phone&&Boolean(b.errors.phone),helperText:b.touched.phone&&b.errors.phone}),Object(I.jsx)(S,{height:"1rem"}),Object(I.jsx)(d.a,{type:"submit",variant:"contained",color:"primary",children:"Zapisz zawodnika"}),Object(I.jsx)(S,{height:"1rem"})]})}),Object(I.jsx)(be,{text:l,open:r,handleClose:function(e,t){"clickaway"!==t&&i(!1)},isError:!0})]})},De=function(e){var t=Object(c.useContext)(ve),n=t.openCreatePlayerProfileForm,a=t.toggleOpenFormState,r=Object(c.useState)(!1),i=Object($.a)(r,2),o=i[0],s=i[1];Object(c.useEffect)((function(){n&&(s(!0),a())}),[n]);var l;return Object(I.jsx)(ge.a,{anchor:"bottom",open:o,onClose:(l=!1,function(){s(l)}),children:Object(I.jsx)(_e,{onDrawerClose:function(){s(!1)},tournamentId:e.tournamentId})})},Le=n(527),Be=function(){var e=Object(c.useContext)(ve).toggleOpenFormState;return Object(I.jsxs)(m,{children:[Object(I.jsxs)(je.a,{severity:"info",children:[Object(I.jsx)(Le.a,{children:"Nie znaleziono zawodnika?"}),"Zapisz nowego poni\u017cej."]}),Object(I.jsx)(S,{height:"1rem"}),Object(I.jsx)(d.a,{variant:"contained",color:"primary",onClick:function(){return e()},children:"Dodaj i zapisz"})]})},We=n(521),Me=n(522),He=n(534),Ze=n(524),qe=n(523),Ge=n(528),Ve=n(529),Ye=n(321),Je=n.n(Ye),Ke=function(e){var t=Object(c.useContext)(ve).registerPlayer;return Object(I.jsxs)(We.a,{children:[Object(I.jsx)(Me.a,{children:Object(I.jsx)(He.a,{children:Object(I.jsx)(Ve.a,{})})}),Object(I.jsx)(Ze.a,{primary:"".concat(e.player.firstName," ").concat(e.player.lastName),secondary:e.player.emailAddress}),Object(I.jsx)(qe.a,{children:e.isRegistered?Object(I.jsx)(Je.a,{color:"action","aria-label":"registered-player","data-testid":"registered-player"}):Object(I.jsx)(he.a,{edge:"end","aria-label":"register-player","data-testid":"register-player",onClick:function(){return t(e.player.playerId)},children:Object(I.jsx)(Ge.a,{})})})]})},Xe=function(e){return 0===e.players.length?Object(I.jsx)(Be,{}):Object(I.jsx)(T.a,{children:e.players.map((function(t){var n=e.registeredPlayersIds.includes(t.playerId);return Object(I.jsx)(Ke,{player:t,isRegistered:n},t.playerId)}))})},Qe=function(e){var t=Object(c.useRef)(null),n=Object(c.useState)(!1),a=Object($.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(""),s=Object($.a)(o,2),l=s[0],u=s[1],d=Object(c.useState)(void 0),j=Object($.a)(d,2),b=j[0],h=j[1],p=Object(c.useState)([]),O=Object($.a)(p,2),x=O[0],f=O[1],g=Object(c.useState)([]),y=Object($.a)(g,2),v=y[0],N=y[1],k=Object(c.useState)(ye.openCreatePlayerProfileForm),T=Object($.a)(k,2),C=T[0],z=T[1],E=function(){var t=Object(Q.a)(X.a.mark((function t(n){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le().postPlayersForTournament({tournamentId:e.tournamentId,playerId:n});case 2:return t.next=4,A();case 4:R();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function U(){return Object(ce.UserProfileRestApi)().getPlayersProfiles().then((function(e){h(e.items),f(e.items)}))}function A(){return le().getRegisteredPlayersIds(e.tournamentId).then((function(e){N(e.registeredPlayersIds)}))}Object(c.useEffect)((function(){U().then()}),[]),Object(c.useEffect)((function(){A().then()}),[e.tournamentId]);var F=function(){U().then(),A().then(),t&&t.current&&(t.current.value="")},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";u(e&&t?"Pomy\u015blnie utworzono konto ".concat(e," ").concat(t," oraz zapisano na turniej"):"Pomy\u015blnie zapisano zawodniczk\u0119 / zawodnika na turniej"),i(!0)},_=void 0===b,D=me();return Object(I.jsx)(ve.Provider,{value:{openCreatePlayerProfileForm:C,toggleOpenFormState:function(){z((function(e){return!e}))},onPlayerProfileCreated:function(e,t){R(e,t),F()},registerPlayer:E},children:Object(I.jsx)(P.a,{className:D.root,children:Object(I.jsx)(w.a,{children:Object(I.jsxs)(m,{children:[Object(I.jsx)(Pe,{tournamentId:e.tournamentId}),Object(I.jsx)(S,{height:"1rem"}),_?Object(I.jsx)(ee.a,{"data-testid":"TournamentRegistrationsLoadingIndicator"}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(te.a,{variant:"outlined",children:[Object(I.jsx)(ne.a,{htmlFor:"player-search-input",children:"Zawodnik"}),Object(I.jsx)(ae.a,{id:"player-search-input",inputRef:t,onChange:function(e){return function(e){""===e.trim()?f(null!==b&&void 0!==b?b:[]):f((null!==b&&void 0!==b?b:[]).filter((function(t){return"".concat(t.firstName," ").concat(t.lastName," ").concat(t.emailAddress).includes(e.trim())})))}(e.target.value)},endAdornment:Object(I.jsx)(re.a,{}),labelWidth:70})]}),Object(I.jsx)(S,{height:"1rem"}),Object(I.jsx)(Xe,{players:x,registeredPlayersIds:v})]}),Object(I.jsx)(be,{text:l,open:r,handleClose:function(e,t){"clickaway"!==t&&i(!1)},isError:!1}),Object(I.jsx)(De,{tournamentId:e.tournamentId})]})})})})},$e=function(){var e=Object(p.g)("/tournament-registration/:tournamentId"),t=null===e||void 0===e?void 0:e.params.tournamentId;return t?Object(I.jsx)(Qe,{tournamentId:t}):null},et=Object(b.a)("div")({backgroundImage:'url("'.concat(Y,'/background.png")'),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:-1}),tt=n(44),nt=n(5);!function(e){e.FINISHED="Zako\u0144czony",e.STARTED="ROZPOCZ\u0118TY",e.NO_TABLE="Oczekuj\u0105cy",e.NO_TEAMS="Brak graczy",e.NO_ONE_TEAM="Brak drugiego teamu",e.STATUS_NOT_EXIST="---"}(Re||(Re={}));var at=Object(v.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},teamItem:{boxSizing:"border-box",display:"inline-flex",width:"100%",paddingLeft:"30px"},avatar:{padding:"15px 0"},avatarColor:{color:e.palette.getContrastText(e.palette.primary.main),backgroundColor:e.palette.primary.main},inline:{display:"inline"},waitingForTeam:{display:"inline",color:"red"}}})),rt=function(e){var t=e.player1,n=e.player2,a=e.isWinnerTeam,r=e.teamId,c=e.matchStatus,i=at(),o=Boolean(c===Re.NO_ONE_TEAM),s=!r,l=Object(I.jsx)("span",{className:i.waitingForTeam,children:'"Oczekiwanie na dru\u017cyn\u0119"'}),u=t||"player1",d=n||"player2",j=Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("span",{className:i.inline,children:u}),Object(I.jsx)("br",{}),Object(I.jsxs)("span",{className:i.inline,children:[" & ",d," "]})]}),b=u[0].toUpperCase()+d[0].toUpperCase(),m=s?l:j,h=c===Re.NO_ONE_TEAM&&!s,p=Object(I.jsxs)(I.Fragment,{children:['"Oczekiwanie na',Object(I.jsx)(y.a,{component:"span",variant:"body2",className:i.inline,color:"textPrimary",children:o?" przeciwnika":" st\xf3\u0142"}),'".']}),O=c===Re.STARTED,x=Object(I.jsxs)(I.Fragment,{children:["Aby ustawi\u0107 zwyci\u0119zc\u0119 -",Object(I.jsx)(y.a,{component:"span",variant:"body2",className:i.inline,color:"textPrimary",children:"Kliknij tu!"})]}),f=c===Re.FINISHED,g=Object(I.jsx)(y.a,{component:"span",variant:"body2",className:i.inline,color:"textPrimary",children:a?"Zwyci\u0119zca!":"Przegrany!"});return Object(I.jsxs)(P.a,{className:i.teamItem,children:[Object(I.jsx)(Me.a,{className:i.avatar,children:Object(I.jsx)(He.a,{className:i.avatarColor,children:s?"...":b})}),Object(I.jsx)(Ze.a,{primary:m,secondary:Object(I.jsxs)(I.Fragment,{children:[f&&g,O&&x,h&&p]})})]})},ct=n(504),it=n(505),ot=n(506),st=n(322),lt=n.n(st),ut=n(323),dt=n.n(ut),jt=n(510),bt=n(513),mt=n(514),ht=n(515),pt=n(516),Ot=n(477),xt=i.a.forwardRef((function(e,t){return Object(I.jsx)(Ot.a,Object(C.a)({direction:"up",ref:t},e))})),ft=Object(nt.a)({root:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}})(P.a);function gt(e){var t=e.agreeCallback,n=e.isOpen,a=e.teamPlayersNames,r=i.a.useState(n),c=Object($.a)(r,2),o=c[0],s=c[1],l=function(){s(!1)};return Object(I.jsxs)("div",{children:[Object(I.jsx)(ft,{variant:"outlined",color:"primary",onClick:function(){s(!0)}}),Object(I.jsxs)(jt.a,{open:o,TransitionComponent:xt,keepMounted:!0,onClose:l,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(I.jsx)(pt.a,{id:"alert-dialog-slide-title",children:"Czy ustawi\u0107 zwyci\u0119zc\u0119 meczu?"}),Object(I.jsx)(mt.a,{children:Object(I.jsxs)(ht.a,{id:"alert-dialog-slide-description",children:["Czy aby na pewno chcesz ustawi\u0107 dru\u017cyn\u0119 '",a||"NN","' jako zwyci\u0119zc\u0119 tego meczu?"]})}),Object(I.jsxs)(bt.a,{children:[Object(I.jsx)(d.a,{onClick:l,color:"primary",children:"Odrzu\u0107"}),Object(I.jsx)(d.a,{onClick:function(){s(!1),t()},color:"primary",children:"Zaakceptuj"})]})]})]})}var yt=Object(b.a)("div")({zIndex:1,boxSizing:"border-box",display:"inline-flex",position:"absolute",width:"100%",height:"100%",margin:0,padding:0,"justify-content":"center","align-items":"center",fontSize:"65px",backgroundColor:f.palette.success.light,opacity:0,cursor:"pointer",transition:"opacity 1s","&:hover":{opacity:.8}}),vt=Object(b.a)(P.a)({position:"relative",margin:"3px"}),Nt=Object(b.a)(it.a)({display:"flex",flexDirection:"column",backgroundColor:f.palette.background.default}),It=Object(nt.a)({root:{color:f.palette.getContrastText(f.palette.secondary.main),backgroundColor:f.palette.secondary.main}})(He.a),kt=Object(nt.a)({root:{width:"100%"}})(P.a),wt=function(e){var t=e.expanded,n=e.handleChangeExpander,a=e.level,r=e.matchId,c=e.matchNumber,o=e.matchStatus,s=e.onClickTeam,l=e.team1,u=e.team2,d=e.winnerTeamId,j=d===l.teamId,b=d===u.teamId,m=(Re.FINISHED,Re.STARTED,function(e,t){return s(e,t)});return Object(I.jsx)(kt,{elevation:3,children:Object(I.jsxs)(ct.a,{expanded:t==="panel".concat(c),onChange:n("panel".concat(c)),children:[Object(I.jsxs)(ot.a,{expandIcon:Object(I.jsx)(lt.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[Object(I.jsx)(Me.a,{children:Object(I.jsx)(It,{children:c})}),Object(I.jsx)(Ze.a,{primary:"- ".concat(o," -"),secondary:Object(I.jsxs)(i.a.Fragment,{children:[Object(I.jsx)(y.a,{component:"span",variant:"body2",display:"inline",color:"textPrimary",children:"Numer meczu: "}),c||0===c?c:"-",Object(I.jsx)("br",{}),Object(I.jsx)(y.a,{component:"span",variant:"body2",display:"inline",color:"textPrimary",children:"Poziom: "}),a||0===a?a:"-"]})})]}),Object(I.jsxs)(Nt,{children:[Object(I.jsxs)(vt,{children:[Object(I.jsx)(Pt,{matchId:r,teamId:l.teamId,firstPlayerName:l.firstPlayerName,secondPlayerName:l.secondPlayerName,agreeDialogCallback:m}),Object(I.jsx)(rt,{isWinnerTeam:j,matchStatus:o,teamId:l.teamId,player1:l.firstPlayerName,player2:l.secondPlayerName})]}),Object(I.jsxs)(vt,{children:[Object(I.jsx)(Pt,{matchId:r,teamId:u.teamId,firstPlayerName:u.firstPlayerName,secondPlayerName:u.secondPlayerName,agreeDialogCallback:m}),Object(I.jsx)(rt,{isWinnerTeam:b,matchStatus:o,teamId:u.teamId,player1:u.firstPlayerName,player2:u.secondPlayerName})]})]})]})})},Pt=function(e){var t=e.matchId,n=e.teamId,a=e.firstPlayerName,r=e.secondPlayerName;return t&&n?Object(I.jsxs)(yt,{children:[Object(I.jsx)(dt.a,{fontSize:"inherit"}),Object(I.jsx)(gt,{agreeCallback:function(){return e.agreeDialogCallback(t,n)},isOpen:!1,teamPlayersNames:'"'.concat(a," & ").concat(r,'"')})]}):Object(I.jsx)("div",{})},Tt={baseUrl:Ne.a},Ct={baseUrl:Ne.a},St={baseUrl:Ne.a},zt=function(e){var t,n,a=Object(C.a)(Object(C.a)({},St),{},{config:e,baseUrl:null!==(t=null!==(n="http://localhost:5000/rest-api")?n:null===e||void 0===e?void 0:e.baseUrl)&&void 0!==t?t:St.baseUrl});return{getTournamentTeamsList:function(e){return oe.a.get("".concat(a.baseUrl,"/matches/").concat(e)).then((function(e){return e.data}))},postMatchWinner:function(e,t){return Object(Q.a)(X.a.mark((function n(){return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,oe.a.post("".concat(a.baseUrl,"/matches/").concat(e,"/result"),{winnerId:t});case 2:case"end":return n.stop()}}),n)})))()}}},Et=Object(b.a)(P.a)({width:U}),Ut=function(e){var t=e.tournamentId,n=i.a.useState(!1),a=Object($.a)(n,2),r=a[0],o=a[1],s=i.a.useState(),l=Object($.a)(s,2),u=l[0],d=l[1],j=i.a.useState(void 0),b=Object($.a)(j,2),m=b[0],h=b[1],p=i.a.useState(),O=Object($.a)(p,2),x=O[0],f=O[1],g=i.a.useState(void 0),y=Object($.a)(g,2),v=y[0],N=y[1],k=i.a.useState(),w=Object($.a)(k,2),P=w[0],T=w[1];Object(c.useEffect)((function(){z()}),[t]),Object(c.useEffect)((function(){u&&(Promise.all(u.queue.map((function(e){return Rt("".concat(t,"_").concat(e.matchNumber))}))).then((function(e){return h(e)})),Dt(t).then((function(e){return f(e)})))}),[u]),Object(c.useEffect)((function(){function e(){return(e=Object(Q.a)(X.a.mark((function e(){var t,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=2;break}return e.abrupt("return");case 2:return t=x.items.map((function(e){return[e.firstTeamPlayer,e.secondTeamPlayer]})).reduce((function(e,t){return e.concat(t)})),e.next=5,Promise.all(t.map((function(e){return _t(e)})));case 5:n=e.sent,N(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then()}),[x]),Object(c.useEffect)((function(){if(u&&m&&x&&v){var e=Ft(u,m,x,v,z);T(e)}}),[v]);var S=function(e){return function(t,n){o(!!n&&e)}};function z(){(function(e){var t,n,a=Object(C.a)(Object(C.a)({},Tt),{},{config:e,baseUrl:null!==(t=null!==(n="http://localhost:5000/rest-api")?n:null===e||void 0===e?void 0:e.baseUrl)&&void 0!==t?t:Tt.baseUrl});return{getTournamentTeamsList:function(e){return oe.a.get("".concat(a.baseUrl,"/doubles-tournaments/").concat(e,"/matches")).then((function(e){return e.data}))}}})().getTournamentTeamsList(t).then((function(e){return d(e)}))}return Object(I.jsx)(Et,{children:P?P.map((function(e,t){return At(e,t,r,S)})):"Oczekiwanie na pobranie..."})},At=function(e,t,n,a){var r=e.level,c=e.matchId,i=e.matchNumber,o=e.matchStatus,s=e.onClickTeam,l=e.tableNumber,u=e.team1,d=e.team2,j=e.winnerId;return Object(I.jsx)(wt,{level:r,matchNumber:i,matchId:c,matchStatus:o,onClickTeam:s,tableNumber:l,winnerTeamId:j,team1:u,team2:d,expanded:n,handleChangeExpander:a},i)},Ft=function(e,t,n,a,r){var c=e.tournamentId,i=Object(C.a)({},e).queue,o=Object(tt.a)(t),s=Object(C.a)({},n).items,l=Object(tt.a)(a);return i.map((function(e){var t=e.matchNumber,n=e.status,a=e.tableNumber,i=e.team1Id,u=e.team2Id,d=function(){return"".concat(c,"_").concat(t)},j=function(){var e;!function(e){e.First="firstTeamPlayer",e.Second="secondTeamPlayer"}(e||(e={}));var t=function(e,t){var n;return function(e){e.FirstName="firstName",e.SecondName="lastName"}(n||(n={})),[n.FirstName,n.FirstName].map((function(n){var a;return null===(a=l.find((function(n){var a;return n.playerId===(null===(a=s.find((function(t){return t.teamId===e})))||void 0===a?void 0:a[t])})))||void 0===a?void 0:a[n]})).reduce((function(e,t){return"".concat(e," ").concat(t)}))};return{firstTeam:{firstPlayerName:t(i,e.First),secondPlayerName:t(i,e.Second)},secondTeam:{firstPlayerName:t(u,e.First),secondPlayerName:t(u,e.Second)}}};return{level:void 0,matchId:d(),matchNumber:t,matchStatus:"started"===n?Re.STARTED:"ended"===n?Re.FINISHED:"enqueued"===n?Re.NO_TABLE:"noTeams"===n?i||i?Re.NO_ONE_TEAM:Re.NO_TEAMS:Re.STATUS_NOT_EXIST,onClickTeam:function(e,t){return Lt(e,t,r)},tableNumber:a,winnerId:function(){var e;return null===(e=o.find((function(e){return e.matchId===d()})))||void 0===e?void 0:e.winnerId}(),team1:{firstPlayerName:j().firstTeam.firstPlayerName,secondPlayerName:j().firstTeam.secondPlayerName,teamId:i},team2:{firstPlayerName:j().secondTeam.firstPlayerName,secondPlayerName:j().secondTeam.secondPlayerName,teamId:u}}}))},Rt=function(e){return zt().getTournamentTeamsList(e).then((function(e){var t=e.firstMatchSideId;return{matchId:e.matchId,firstMatchSideId:t,secondMatchSideId:e.secondMatchSideId,winnerId:e.winnerId}}))},_t=function(e){return Object(ce.UserProfileRestApi)().getPlayerProfile(e).then((function(e){var t=e.emailAddress,n=e.firstName,a=e.lastName,r=e.phoneNumber;return{playerId:e.playerId,firstName:n,lastName:a,phoneNumber:r,emailAddress:t}}))},Dt=function(e){return function(e){var t,n,a=Object(C.a)(Object(C.a)({},Ct),{},{config:e,baseUrl:null!==(t=null!==(n="http://localhost:5000/rest-api")?n:null===e||void 0===e?void 0:e.baseUrl)&&void 0!==t?t:Ct.baseUrl});return{getTournamentTeamsList:function(e){return oe.a.get("".concat(a.baseUrl,"/doubles-tournaments/").concat(e,"/teams")).then((function(e){return e.data}))}}}().getTournamentTeamsList(e).then((function(e){return e}))},Lt=function(e,t,n){return zt().postMatchWinner(e,t).then((function(){return n()}))},Bt=function(){var e=Object(p.g)(M),t=null===e||void 0===e?void 0:e.params.tournamentId;return t?Object(I.jsx)(Ut,{tournamentId:t}):null},Wt=n(324),Mt=n.n(Wt),Ht={color:f.palette.primary.main,fontSize:"2.5rem"},Zt=function(){var e=Object(p.f)();return Object(I.jsx)(he.a,{children:Object(I.jsx)(Mt.a,{style:Ht,onClick:function(){e.push("/")}})})},qt=Object(b.a)(P.a)({display:"flex",justifyContent:"center",alignItems:"center",minWidth:"300px",maxHeight:"150px"}),Gt=function(e){return Object(I.jsxs)(qt,{children:[Object(I.jsx)(u.a,{item:!0,xs:3,children:Object(I.jsx)(Zt,{})}),Object(I.jsx)(u.a,{item:!0,xs:6,children:Object(I.jsx)(m,{children:Object(I.jsx)(y.a,{component:"h5",variant:"h5",children:e.title})})}),Object(I.jsx)(u.a,{item:!0,xs:3})]})},Vt=n(307),Yt=n(133),Jt=n(519),Kt=n(520),Xt=n(508),Qt=n(507),$t=function(e){var t=e.text,n=e.onLink;return Object(I.jsx)(h.b,{to:n,style:{textDecoration:"none"},children:Object(I.jsx)(d.a,{color:"primary",size:"large",style:{fontWeight:600},children:t})})},en=Object(v.a)({root:{maxWidth:U},media:{height:150},cardActions:{justifyContent:"flex-end"}}),tn=function(e){var t=e.tournamentId,n=e.tournamentName,a=e.registrationStatus,r=en();return Object(I.jsxs)(P.a,{className:r.root,children:[Object(I.jsx)(Xt.a,{className:r.media,image:"".concat(Y,"/foosball_tournament.jpg"),title:"Tournament Image"}),Object(I.jsxs)(w.a,{children:[Object(I.jsx)(y.a,{gutterBottom:!0,variant:"h5",component:"h2",children:n}),Object(I.jsxs)(y.a,{variant:"body2",color:"textSecondary",component:"p",children:["ZAPISY: ",a]})]}),Object(I.jsx)(S,{height:"20px"}),Object(I.jsx)(Qt.a,{disableSpacing:!0,className:r.cardActions,children:Object(I.jsx)(I.Fragment,{children:"OPENED"===a?Object(I.jsx)($t,{text:"Zapisy",onLink:B+"/".concat(t)}):Object(I.jsx)($t,{text:"Mecze i wyniki",onLink:""})})})]})},nn={baseUrl:"http://localhost:5000/rest-api"},an=[{tournamentId:"1",tournamentName:"Turniej z jajem",status:"OPENED",registeredPlayersIds:[]},{tournamentId:"2",tournamentName:"Turniej bez jaja",status:"CLOSED",registeredPlayersIds:[]},{tournamentId:"3",tournamentName:"Turniej wroc\u0142awski",status:"OPENED",registeredPlayersIds:[]},{tournamentId:"4",tournamentName:"Turniej kaliski",status:"CLOSED",registeredPlayersIds:[]}],rn=[{tournamentId:"2480fc2c-bbd7-427c-9439-02f76583aef5",tournamentName:"Taka na sztywno"},{tournamentId:"2480fc2c-bbd7-427c-9439-02f76583aef6",tournamentName:"Taka na lu\u017ano"}],cn=Object(v.a)((function(e){return Object(Vt.a)({root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"},gridList:{flexWrap:"nowrap",transform:"translateZ(0)","&::-webkit-scrollbar-track":{webkitBoxShadow:"inset 0 0 6px rgba(0,0,0,0.3)",borderRadius:"4px",backgroundColor:"#646464"},"&::-webkit-scrollbar":{height:"10px"},"&::-webkit-scrollbar-thumb":{borderRadius:"4px",webkitBoxShadow:"inset 0 0 6px rgba(0,0,0,.3)",backgroundColor:e.palette.primary.main}}})})),on=Object(Yt.a)("div")({boxSizing:"border-box",margin:0,padding:0,maxWidth:U,width:U}),sn=function(){var e=Object(c.useState)(an),t=Object($.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(rn),i=Object($.a)(r,2),o=i[0],s=i[1];Object(c.useEffect)((function(){(function(e){var t,n,a=Object(C.a)(Object(C.a)({},nn),{},{config:e,baseUrl:null!==(t=null!==(n="http://localhost:5000/rest-api")?n:null===e||void 0===e?void 0:e.baseUrl)&&void 0!==t?t:nn.baseUrl});return{getAllTournamentsDetails:function(){return oe.a.get("".concat(a.baseUrl,"/tournament-details/")).then((function(e){return e.data}))}}})().getAllTournamentsDetails().then((function(e){s(e)})),le().getAllTournamentsRegistrations().then((function(e){var t=e.items.map((function(e,t){return Object.assign({},e,o[t])}));a(t)}))}),[]);var l=cn();return Object(I.jsx)(on,{children:Object(I.jsx)(Jt.a,{cols:1,cellHeight:"auto",style:{margin:0},classes:{root:l.gridList},children:null===n||void 0===n?void 0:n.map((function(e){return Object(I.jsx)(Kt.a,{style:{padding:0,marginRight:"40px"},children:Object(I.jsx)(tn,{tournamentId:e.tournamentId,tournamentName:e.tournamentName,registrationStatus:e.status})},e.tournamentId)}))})})},ln=n(517),un=n(531),dn=Object(v.a)({link:{textDecoration:"none"},fab:{padding:10,position:"absolute",right:0},icon:{paddingRight:7}}),jn=function(e){var t=e.onLink,n=dn();return Object(I.jsx)(h.b,{to:t,className:n.link,children:Object(I.jsxs)(ln.a,{variant:"extended",color:"secondary","aria-label":"add",className:n.fab,children:[Object(I.jsx)(un.a,{className:n.icon}),"Turniej"]})})},bn=Object(Yt.a)("div")({position:"relative"}),mn=function(){return Object(I.jsxs)(bn,{children:[Object(I.jsx)(Gt,{title:"Turnieje"}),Object(I.jsx)(S,{height:30}),Object(I.jsx)(sn,{}),Object(I.jsx)(S,{height:30}),Object(I.jsx)(jn,{onLink:""})]})};var hn=function(){return Object(I.jsxs)(h.a,{children:[Object(I.jsx)(et,{}),Object(I.jsx)(l.a,{theme:f,children:Object(I.jsxs)(m,{children:[Object(I.jsx)(J,{}),Object(I.jsx)(S,{height:"20px"}),Object(I.jsx)(u.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"75vh"},children:Object(I.jsxs)(p.c,{children:[Object(I.jsx)(p.a,{path:"/login",exact:!0,children:Object(I.jsx)(d.a,{children:"PATH_FOR_LOGIN_VIEW"})}),Object(I.jsx)(p.a,{path:L,exact:!0,children:Object(I.jsx)(mn,{})}),Object(I.jsx)(p.a,{path:"/new-tournament",exact:!0,children:"PATH_FOR_CREATING_NEW_TOURNAMENT_VIEW"}),Object(I.jsx)(p.a,{path:"/tournament-registration/:tournamentId",children:Object(I.jsx)(m,{children:Object(I.jsx)($e,{})})}),Object(I.jsx)(p.a,{path:W,exact:!0,children:"PATH_FOR_PLAYERS_PROFILES_VIEW"}),Object(I.jsx)(p.a,{path:"/new-player-profiles",exact:!0,children:"PATH_FOR_PLAYER_PROFILE_CREATION_VIEW"}),Object(I.jsx)(p.a,{path:M,exact:!0,children:Object(I.jsx)(m,{children:Object(I.jsx)(Bt,{})})}),Object(I.jsx)(p.a,{path:"/",exact:!0,children:Object(I.jsx)(Z,{})})]})}),Object(I.jsx)(S,{height:"55px"}),Object(I.jsx)(k,{})]})})]})};n(470);s.a.render(Object(I.jsx)(i.a.StrictMode,{children:Object(I.jsx)(hn,{})}),document.getElementById("root"))},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="http://localhost:5000/rest-api"},97:function(e,t,n){"use strict";var a=n(274);n.o(a,"UserProfileRestApi")&&n.d(t,"UserProfileRestApi",(function(){return a.UserProfileRestApi}));var r=n(275);n.o(r,"UserProfileRestApi")&&n.d(t,"UserProfileRestApi",(function(){return r.UserProfileRestApi}));var c=n(276);n.d(t,"UserProfileRestApi",(function(){return c.a}))}},[[471,1,2]]]);
//# sourceMappingURL=main.81e74fcc.chunk.js.map